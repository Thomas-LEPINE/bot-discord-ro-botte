"use strict";function _interopDefault(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var Request=_interopDefault(require("request")),replaceSpaceWithPlus=function(e){return e.split(" ").join("+")},api={giphy:{apiKey:"",apiKeyDefault:"dc6zaTOxFJmzC",getAPIKey:function(){return api.giphy.apiKey?api.giphy.apiKey:api.giphy.apiKeyDefault},setAPIKey:function(e){api.giphy.apiKey=e},search:{url:function(e){return["http://api.giphy.com/v1/gifs/search?","q="+replaceSpaceWithPlus(e),"&api_key="+api.giphy.getAPIKey()+"&limit=1","&offset=0"].join("")},imageUrl:function(e){return e.data[0].images.fixed_height.url}},random:{url:function(e){return["http://api.giphy.com/v1/gifs/random?","tag="+replaceSpaceWithPlus(e),"&api_key="+api.giphy.getAPIKey()+"&limit=1","&offset=0"].join("")},imageUrl:function(e){return e.data.image_url}}}};module.exports={getAPIKey:api.giphy.getAPIKey,setAPIKey:api.giphy.setAPIKey,query:function(e){var i=api.giphy.search;return new Promise(function(t,a){Request(i.url(e),function(e,r,n){e?a(e):200===r.statusCode?t(i.imageUrl(JSON.parse(n))):a(e)})})},random:function(e){var i=api.giphy.random;return new Promise(function(t,a){Request(i.url(e),function(e,r,n){e?a(e):200===r.statusCode?t(i.imageUrl(JSON.parse(n))):a(e)})})}};
